<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ed="xml/2017/SVGExtensions/" ed:name="页面-1" ed:hSpacing="30" xmlns:ev="http://www.w3.org/2001/xml-events" ed:vSpacing="30" id="page300000100" width="1463" xmlns="http://www.w3.org/2000/svg" height="945" viewBox="0 0 1463 945"><style type="text/css"><![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st3 {fill:#303030;font-family:Alibaba PuHuiTi;font-size:10pt}
.st2 {fill:#303030;font-family:Alibaba PuHuiTi;font-size:14pt;font-weight:bold}
.st1 {fill:#ffffff;font-family:Alibaba PuHuiTi;font-size:18pt;font-weight:bold}
]]></style><defs/><rect y="0" x="0" fill="#ffffff" width="1463" height="945"/><path transform="matrix(1,0,0,1,167.1,355.23)" ed:tosuperid="104" d="M-38,148.8C-31,28.9,10,-181.5,69,-181.5" ed:parentid="101" stroke-width="3" stroke-linecap="round" id="105" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,167.1,494.1)" ed:tosuperid="106" d="M-10.9,14C2.6,-12.6,31.4,-42.6,69,-42.6" ed:parentid="101" stroke-width="3" stroke-linecap="round" id="107" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,408.73,134.38)" ed:tosuperid="110" d="M-21.6,39.4L-10.6,39.4C5.7,-39.4,5.7,-39.4,21.6,-39.4" ed:parentid="104" stroke-linecap="round" id="111" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,408.73,213.13)" ed:tosuperid="112" d="M-10.6,-39.4C5.7,39.4,5.7,39.4,21.6,39.4" ed:parentid="104" stroke-linecap="round" id="113" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,523.27,68.75)" ed:tosuperid="114" d="M-21.6,26.3L-10.6,26.3C5.7,-26.3,5.7,-26.3,21.6,-26.3" ed:parentid="110" stroke-linecap="round" id="115" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,523.27,83.75)" ed:tosuperid="116" d="M-10.6,11.3C5.7,-11.3,5.7,-11.3,21.6,-11.3" ed:parentid="110" stroke-linecap="round" id="117" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,523.27,121.25)" ed:tosuperid="118" d="M-10.6,-26.3C5.7,26.3,5.7,26.3,21.6,26.3" ed:parentid="110" stroke-linecap="round" id="119" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,739.13,147.5)" ed:tosuperid="120" d="M-21.6,0L-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="118" stroke-linecap="round" id="121" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,907,125)" ed:tosuperid="122" d="M-21.6,22.5L-10.6,22.5C5.7,-22.5,5.7,-22.5,21.6,-22.5" ed:parentid="120" stroke-linecap="round" id="123" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,907,140)" ed:tosuperid="124" d="M-10.6,7.5C5.7,-7.5,5.7,-7.5,21.6,-7.5" ed:parentid="120" stroke-linecap="round" id="125" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,907,170)" ed:tosuperid="126" d="M-10.6,-22.5C5.7,22.5,5.7,22.5,21.6,22.5" ed:parentid="120" stroke-linecap="round" id="127" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,1114.87,177.5)" ed:tosuperid="128" d="M-21.6,15L-10.6,15C5.7,-15,5.7,-15,21.6,-15" ed:parentid="126" stroke-linecap="round" id="129" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,1114.87,192.5)" ed:tosuperid="130" d="M-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="126" stroke-linecap="round" id="131" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,1114.87,207.5)" ed:tosuperid="132" d="M-10.6,-15C5.7,15,5.7,15,21.6,15" ed:parentid="126" stroke-linecap="round" id="133" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,371.4,402.75)" ed:tosuperid="134" d="M-21.6,48.8L-10.6,48.8C5.7,-48.8,5.7,-48.8,21.6,-48.8" ed:parentid="106" stroke-linecap="round" id="135" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,371.4,500.25)" ed:tosuperid="136" d="M-10.6,-48.8C5.7,48.8,5.7,48.8,21.6,48.8" ed:parentid="106" stroke-linecap="round" id="137" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,485.93,519)" ed:tosuperid="138" d="M-21.6,30L-10.6,30C5.7,-30,5.7,-30,21.6,-30" ed:parentid="136" stroke-linecap="round" id="139" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,641.8,466.5)" ed:tosuperid="140" d="M-21.6,22.5L-10.6,22.5C5.7,-22.5,5.7,-22.5,21.6,-22.5" ed:parentid="138" stroke-linecap="round" id="141" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,756.33,436.5)" ed:tosuperid="142" d="M-21.6,7.5L-10.6,7.5C5.7,-7.5,5.7,-7.5,21.6,-7.5" ed:parentid="140" stroke-linecap="round" id="143" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,756.33,451.5)" ed:tosuperid="144" d="M-10.6,-7.5C5.7,7.5,5.7,7.5,21.6,7.5" ed:parentid="140" stroke-linecap="round" id="145" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,641.8,489)" ed:tosuperid="146" d="M-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="138" stroke-linecap="round" id="147" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,756.33,489)" ed:tosuperid="148" d="M-21.6,0L-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="146" stroke-linecap="round" id="149" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,485.93,564)" ed:tosuperid="150" d="M-10.6,-15C5.7,15,5.7,15,21.6,15" ed:parentid="136" stroke-linecap="round" id="151" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,587.13,579)" ed:tosuperid="152" d="M-21.6,0L-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="150" stroke-linecap="round" id="153" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,641.8,511.5)" ed:tosuperid="154" d="M-10.6,-22.5C5.7,22.5,5.7,22.5,21.6,22.5" ed:parentid="138" stroke-linecap="round" id="155" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,729.67,526.5)" ed:tosuperid="156" d="M-21.6,7.5L-10.6,7.5C5.7,-7.5,5.7,-7.5,21.6,-7.5" ed:parentid="154" stroke-linecap="round" id="157" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,872.87,519)" ed:tosuperid="158" d="M-21.6,0L-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="156" stroke-linecap="round" id="159" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,729.67,541.5)" ed:tosuperid="160" d="M-10.6,-7.5C5.7,7.5,5.7,7.5,21.6,7.5" ed:parentid="154" stroke-linecap="round" id="161" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,937.53,549)" ed:tosuperid="162" d="M-21.6,0L-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="160" stroke-linecap="round" id="163" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,485.93,579)" ed:tosuperid="164" d="M-10.6,-30C5.7,30,5.7,30,21.6,30" ed:parentid="136" stroke-linecap="round" id="165" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,472.6,339)" ed:tosuperid="166" d="M-21.6,15L-10.6,15C5.7,-15,5.7,-15,21.6,-15" ed:parentid="134" stroke-linecap="round" id="167" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,625.13,316.5)" ed:tosuperid="168" d="M-21.6,7.5L-10.6,7.5C5.7,-7.5,5.7,-7.5,21.6,-7.5" ed:parentid="166" stroke-linecap="round" id="169" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,472.6,369)" ed:tosuperid="170" d="M-10.6,-15C5.7,15,5.7,15,21.6,15" ed:parentid="134" stroke-linecap="round" id="171" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,625.13,331.5)" ed:tosuperid="172" d="M-10.6,-7.5C5.7,7.5,5.7,7.5,21.6,7.5" ed:parentid="166" stroke-linecap="round" id="173" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,614.47,376.5)" ed:tosuperid="174" d="M-21.6,7.5L-10.6,7.5C5.7,-7.5,5.7,-7.5,21.6,-7.5" ed:parentid="170" stroke-linecap="round" id="175" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,614.47,391.5)" ed:tosuperid="176" d="M-10.6,-7.5C5.7,7.5,5.7,7.5,21.6,7.5" ed:parentid="170" stroke-linecap="round" id="177" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,907.67,339)" ed:tosuperid="178" d="M-21.6,0L-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="172" stroke-linecap="round" id="179" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,167.1,631.1)" ed:tosuperid="180" d="M-30.3,-61.7C-19.6,1.7,17.5,94.4,69,94.4" ed:parentid="101" stroke-width="3" stroke-linecap="round" id="181" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,334.07,695.5)" ed:tosuperid="182" d="M-21.6,30L-10.6,30C5.7,-30,5.7,-30,21.6,-30" ed:parentid="180" stroke-linecap="round" id="183" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,334.07,710.5)" ed:tosuperid="184" d="M-10.6,15C5.7,-15,5.7,-15,21.6,-15" ed:parentid="180" stroke-linecap="round" id="185" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,334.07,725.5)" ed:tosuperid="186" d="M-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="180" stroke-linecap="round" id="187" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,334.07,755.5)" ed:tosuperid="188" d="M-10.6,-30C5.7,30,5.7,30,21.6,30" ed:parentid="180" stroke-linecap="round" id="189" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,1202.73,192.5)" ed:tosuperid="190" d="M-21.6,0L-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="130" stroke-linecap="round" id="191" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,448.6,770.5)" ed:tosuperid="192" d="M-21.6,15L-10.6,15C5.7,-15,5.7,-15,21.6,-15" ed:parentid="188" stroke-linecap="round" id="193" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,448.6,800.5)" ed:tosuperid="194" d="M-10.6,-15C5.7,15,5.7,15,21.6,15" ed:parentid="188" stroke-linecap="round" id="195" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,536.47,800.5)" ed:tosuperid="196" d="M-21.6,15L-10.6,15C5.7,-15,5.7,-15,21.6,-15" ed:parentid="194" stroke-linecap="round" id="197" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,536.47,815.5)" ed:tosuperid="198" d="M-10.6,0C5.7,0,5.7,0,21.6,0" ed:parentid="194" stroke-linecap="round" id="199" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,536.47,830.5)" ed:tosuperid="200" d="M-10.6,-15C5.7,15,5.7,15,21.6,15" ed:parentid="194" stroke-linecap="round" id="201" stroke="#454545" fill="none" stroke-linejoin="round"/><path transform="matrix(1,0,0,1,167.1,718.19)" ed:tosuperid="202" d="M-38,-148.8C-31,-28.9,10,181.5,69,181.5" ed:parentid="101" stroke-width="3" stroke-linecap="round" id="203" stroke="#454545" fill="none" stroke-linejoin="round"/><g transform="matrix(1,0,0,1,23,504.04)" ed:layout="rightmap" ed:width="150.1333333333333" ed:height="65.33333333333334" id="101" ed:topictype="mainidea"><path d="M32.7,0L117.5,0C135.5,0,150.1,14.6,150.1,32.7C150.1,50.7,135.5,65.3,117.5,65.3L32.7,65.3C14.6,65.3,0,50.7,0,32.7C0,14.6,14.6,0,32.7,0z" stroke-width="3" fill="#00af54" stroke="#00af54" stroke-linejoin="round"/><text class="st1"><tspan textLength="96" y="40.467" x="27" style="white-space:pre">并发队列</tspan></text></g><g transform="matrix(1,0,0,1,236.13,152.58)" ed:parentid="101" ed:width="151" ed:height="42.33333333333333" id="104"><path d="M4,0L147,0C149.7,0,151,1.3,151,4L151,38.3C151,41,149.7,42.3,147,42.3L4,42.3C1.3,42.3,0,41,0,38.3L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" fill="#ffffff" stroke="#454545" stroke-linejoin="round"/><text class="st2"><tspan textLength="114" y="26.967" x="18" style="white-space:pre">阻塞与非阻塞</tspan></text></g><g transform="matrix(1,0,0,1,236.13,430.33)" ed:parentid="101" ed:width="113.6666666666667" ed:height="42.33333333333333" id="106"><path d="M4,0L109.7,0C112.4,0,113.7,1.3,113.7,4L113.7,38.3C113.7,41,112.4,42.3,109.7,42.3L4,42.3C1.3,42.3,0,41,0,38.3L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" fill="#ffffff" stroke="#454545" stroke-linejoin="round"/><text class="st2"><tspan textLength="76" y="26.967" x="18" style="white-space:pre">实现角度</tspan></text></g><g transform="matrix(1,0,0,1,430.33,71.5)" ed:parentid="104" ed:width="71.33333333333334" ed:height="23.5" id="110"><path d="M0,0L71.3,0L71.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L71.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="52" y="15.783" x="8" style="white-space:pre">阻塞队列</tspan></text></g><g transform="matrix(1,0,0,1,430.33,229)" ed:parentid="104" ed:width="84.66666666666667" ed:height="23.5" id="112"><path d="M0,0L84.7,0L84.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L84.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="65" y="15.783" x="8" style="white-space:pre">非阻塞队列</tspan></text></g><g transform="matrix(1,0,0,1,544.87,19)" ed:parentid="110" ed:width="98" ed:height="23.5" id="114"><path d="M0,0L98,0L98,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L98,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="78" y="15.783" x="8" style="white-space:pre">入队超时控制</tspan></text></g><g transform="matrix(1,0,0,1,544.87,49)" ed:parentid="110" ed:width="98" ed:height="23.5" id="116"><path d="M0,0L98,0L98,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L98,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="78" y="15.783" x="8" style="white-space:pre">出队超时控制</tspan></text></g><g transform="matrix(1,0,0,1,544.87,124)" ed:parentid="110" ed:width="172.6666666666667" ed:height="23.5" id="118"><path d="M0,0L172.7,0L172.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L172.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="150" y="15.783" x="8" style="white-space:pre">context.Context 超时控制</tspan></text></g><g transform="matrix(1,0,0,1,760.73,124)" ed:parentid="118" ed:width="124.6666666666667" ed:height="23.5" id="120"><path d="M0,0L124.7,0L124.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L124.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="104" y="15.783" x="8" style="white-space:pre">时间不精确的问题</tspan></text></g><g transform="matrix(1,0,0,1,928.6,79)" ed:parentid="120" ed:width="71.33333333333334" ed:height="23.5" id="122"><path d="M0,0L71.3,0L71.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L71.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="52" y="15.783" x="8" style="white-space:pre">时钟问题</tspan></text></g><g transform="matrix(1,0,0,1,928.6,109)" ed:parentid="120" ed:width="214.6666666666667" ed:height="23.5" id="124"><path d="M0,0L214.7,0L214.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L214.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="191" y="15.783" x="8" style="white-space:pre">goroutine 调度问题（抢不到 P）</tspan></text></g><g transform="matrix(1,0,0,1,928.6,169)" ed:parentid="120" ed:width="164.6666666666667" ed:height="23.5" id="126"><path d="M0,0L164.7,0L164.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L164.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="143" y="15.783" x="8" style="white-space:pre">阻塞住，未能唤醒的问题</tspan></text></g><g transform="matrix(1,0,0,1,1136.47,139)" ed:parentid="126" ed:width="180" ed:height="23.5" id="128"><path d="M0,0L180,0L180,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L180,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="157" y="15.783" x="8" style="white-space:pre">select channel 会被阻塞住</tspan></text></g><g transform="matrix(1,0,0,1,1136.47,169)" ed:parentid="126" ed:width="44.66666666666667" ed:height="23.5" id="130"><path d="M0,0L44.7,0L44.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L44.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="26" y="15.783" x="8" style="white-space:pre">抢锁</tspan></text></g><g transform="matrix(1,0,0,1,1136.47,199)" ed:parentid="126" ed:width="114" ed:height="23.5" id="132"><path d="M0,0L114,0L114,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L114,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="92" y="15.783" x="8" style="white-space:pre">sync.Cond.Wait</tspan></text></g><g transform="matrix(1,0,0,1,393,330.5)" ed:parentid="106" ed:width="58" ed:height="23.5" id="134"><path d="M0,0L58,0L58,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L58,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="39" y="15.783" x="8" style="white-space:pre">锁实现</tspan></text></g><g transform="matrix(1,0,0,1,393,525.5)" ed:parentid="106" ed:width="71.33333333333334" ed:height="23.5" id="136"><path d="M0,0L71.3,0L71.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L71.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="52" y="15.783" x="8" style="white-space:pre">非锁实现</tspan></text></g><g transform="matrix(1,0,0,1,507.53,465.5)" ed:parentid="136" ed:width="112.6666666666667" ed:height="23.5" id="138"><path d="M0,0L112.7,0L112.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L112.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="92" y="15.783" x="8" style="white-space:pre">CAS 操作 + 自旋</tspan></text></g><g transform="matrix(1,0,0,1,663.4,420.5)" ed:parentid="138" ed:width="71.33333333333334" ed:height="23.5" id="140"><path d="M0,0L71.3,0L71.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L71.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="52" y="15.783" x="8" style="white-space:pre">自旋控制</tspan></text></g><g transform="matrix(1,0,0,1,777.93,405.5)" ed:parentid="140" ed:width="98" ed:height="23.5" id="142"><path d="M0,0L98,0L98,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L98,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="78" y="15.783" x="8" style="white-space:pre">按次数来控制</tspan></text></g><g transform="matrix(1,0,0,1,777.93,435.5)" ed:parentid="140" ed:width="98" ed:height="23.5" id="144"><path d="M0,0L98,0L98,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L98,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="78" y="15.783" x="8" style="white-space:pre">按时间来控制</tspan></text></g><g transform="matrix(1,0,0,1,663.4,465.5)" ed:parentid="138" ed:width="71.33333333333334" ed:height="23.5" id="146"><path d="M0,0L71.3,0L71.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L71.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="52" y="15.783" x="8" style="white-space:pre">使用场景</tspan></text></g><g transform="matrix(1,0,0,1,777.93,465.5)" ed:parentid="146" ed:width="138" ed:height="23.5" id="148"><path d="M0,0L138,0L138,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L138,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="117" y="15.783" x="8" style="white-space:pre">锁实现（自旋部分）</tspan></text></g><g transform="matrix(1,0,0,1,507.53,555.5)" ed:parentid="136" ed:width="58" ed:height="23.5" id="150"><path d="M0,0L58,0L58,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L58,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="39" y="15.783" x="8" style="white-space:pre">乐观锁</tspan></text></g><g transform="matrix(1,0,0,1,608.73,555.5)" ed:parentid="150" ed:width="302" ed:height="23.5" id="152"><path d="M0,0L302,0L302,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L302,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="273" y="15.783" x="8" style="white-space:pre">数据库场景下 Update xxx set a = 1 where a =2</tspan></text></g><g transform="matrix(1,0,0,1,663.4,510.5)" ed:parentid="138" ed:width="44.66666666666667" ed:height="23.5" id="154"><path d="M0,0L44.7,0L44.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L44.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="26" y="15.783" x="8" style="white-space:pre">缺陷</tspan></text></g><g transform="matrix(1,0,0,1,751.27,495.5)" ed:parentid="154" ed:width="100" ed:height="23.5" id="156"><path d="M0,0L100,0L100,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L100,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="80" y="15.783" x="8" style="white-space:pre">CPU 资源消耗</tspan></text></g><g transform="matrix(1,0,0,1,894.47,495.5)" ed:parentid="156" ed:width="151.3333333333333" ed:height="23.5" id="158"><path d="M0,0L151.3,0L151.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L151.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="128" y="15.783" x="8" style="white-space:pre">CPU 100% 的一个场景</tspan></text></g><g transform="matrix(1,0,0,1,751.27,525.5)" ed:parentid="154" ed:width="164.6666666666667" ed:height="23.5" id="160"><path d="M0,0L164.7,0L164.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L164.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="143" y="15.783" x="8" style="white-space:pre">越是竞争强，性能就越差</tspan></text></g><g transform="matrix(1,0,0,1,959.13,525.5)" ed:parentid="160" ed:width="298.6666666666667" ed:height="23.5" id="162"><path d="M0,0L298.7,0L298.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L298.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="274" y="15.783" x="8" style="white-space:pre">极高并发场景下，你不应该 CAS，用队列来取代</tspan></text></g><g transform="matrix(1,0,0,1,507.53,585.5)" ed:parentid="136" ed:width="218" ed:height="23.5" id="164"><path d="M0,0L218,0L218,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L218,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="197" y="15.783" x="8" style="white-space:pre">无法支持 Len(), Cap() 之类的方法</tspan></text></g><g transform="matrix(1,0,0,1,494.2,300.5)" ed:parentid="134" ed:width="109.3333333333333" ed:height="23.5" id="166"><path d="M0,0L109.3,0L109.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L109.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="88" y="15.783" x="8" style="white-space:pre">基于sync.Cond</tspan></text></g><g transform="matrix(1,0,0,1,646.73,285.5)" ed:parentid="166" ed:width="236" ed:height="23.5" id="168"><path d="M0,0L236,0L236,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L236,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="212" y="15.783" x="8" style="white-space:pre">无法超时唤醒，缺乏Wait(ctx) 的调用</tspan></text></g><g transform="matrix(1,0,0,1,494.2,360.5)" ed:parentid="134" ed:width="98.66666666666667" ed:height="23.5" id="170"><path d="M0,0L98.7,0L98.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L98.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="79" y="15.783" x="8" style="white-space:pre">基于 channel</tspan></text></g><g transform="matrix(1,0,0,1,646.73,315.5)" ed:parentid="166" ed:width="239.3333333333333" ed:height="23.5" id="172"><path d="M0,0L239.3,0L239.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L239.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="215" y="15.783" x="8" style="white-space:pre">变种：基于信号转发的 Wait(ctx) 实现</tspan></text></g><g transform="matrix(1,0,0,1,636.07,345.5)" ed:parentid="170" ed:width="315.3333333333333" ed:height="23.5" id="174"><path d="M0,0L315.3,0L315.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L315.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="290" y="15.783" x="8" style="white-space:pre">利用了 channel 关闭之后，还能读取到零值的特性</tspan></text></g><g transform="matrix(1,0,0,1,636.07,375.5)" ed:parentid="170" ed:width="420" ed:height="23.5" id="176"><path d="M0,0L420,0L420,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L420,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="388" y="15.783" x="8" style="white-space:pre">只支持 broadcast，无法实现 signal（唤醒一个单独的 goroutine）</tspan></text></g><g transform="matrix(1,0,0,1,929.27,315.5)" ed:parentid="172" ed:width="298" ed:height="23.5" id="178"><path d="M0,0L298,0L298,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L298,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="273" y="15.783" x="8" style="white-space:pre">时间控制更加不精确（源自信号转发路径很长）</tspan></text></g><g transform="matrix(1,0,0,1,236.13,704.33)" ed:parentid="101" ed:width="76.33333333333334" ed:height="42.33333333333333" id="180"><path d="M4,0L72.3,0C75,0,76.3,1.3,76.3,4L76.3,38.3C76.3,41,75,42.3,72.3,42.3L4,42.3C1.3,42.3,0,41,0,38.3L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" fill="#ffffff" stroke="#454545" stroke-linejoin="round"/><text class="st2"><tspan textLength="38" y="26.967" x="18" style="white-space:pre">类型</tspan></text></g><g transform="matrix(1,0,0,1,355.67,642)" ed:parentid="180" ed:width="231.3333333333333" ed:height="23.5" id="182"><path d="M0,0L231.3,0L231.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L231.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="208" y="15.783" x="8" style="white-space:pre">基于切片的并发阻塞（非阻塞）队列</tspan></text></g><g transform="matrix(1,0,0,1,355.67,672)" ed:parentid="180" ed:width="231.3333333333333" ed:height="23.5" id="184"><path d="M0,0L231.3,0L231.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L231.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="208" y="15.783" x="8" style="white-space:pre">基于链表的并发阻塞（非阻塞）队列</tspan></text></g><g transform="matrix(1,0,0,1,355.67,702)" ed:parentid="180" ed:width="84.66666666666667" ed:height="23.5" id="186"><path d="M0,0L84.7,0L84.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L84.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="65" y="15.783" x="8" style="white-space:pre">优先级队列</tspan></text></g><g transform="matrix(1,0,0,1,355.67,762)" ed:parentid="180" ed:width="71.33333333333334" ed:height="23.5" id="188"><path d="M0,0L71.3,0L71.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L71.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="52" y="15.783" x="8" style="white-space:pre">延时队列</tspan></text></g><g transform="matrix(1,0,0,1,1224.33,169)" ed:parentid="130" ed:width="218" ed:height="23.5" id="190"><path d="M0,0L218,0L218,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L218,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="195" y="15.783" x="8" style="white-space:pre">拿到锁之后，要再判断有没有超时</tspan></text></g><g transform="matrix(1,0,0,1,470.2,732)" ed:parentid="188" ed:width="258" ed:height="23.5" id="192"><path d="M0,0L258,0L258,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L258,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="234" y="15.783" x="8" style="white-space:pre">入队：如果入队的是队首，要唤醒出队的</tspan></text></g><g transform="matrix(1,0,0,1,470.2,792)" ed:parentid="188" ed:width="44.66666666666667" ed:height="23.5" id="194"><path d="M0,0L44.7,0L44.7,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L44.7,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="26" y="15.783" x="8" style="white-space:pre">出队</tspan></text></g><g transform="matrix(1,0,0,1,558.07,762)" ed:parentid="194" ed:width="228" ed:height="23.5" id="196"><path d="M0,0L228,0L228,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L228,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="204" y="15.783" x="8" style="white-space:pre">一个是过期时间到期（timer 计时）</tspan></text></g><g transform="matrix(1,0,0,1,558.07,792)" ed:parentid="194" ed:width="191.3333333333333" ed:height="23.5" id="198"><path d="M0,0L191.3,0L191.3,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L191.3,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="169" y="15.783" x="8" style="white-space:pre">一个新的更快过期的元素入队</tspan></text></g><g transform="matrix(1,0,0,1,558.07,822)" ed:parentid="194" ed:width="96" ed:height="23.5" id="200"><path d="M0,0L96,0L96,23.5L0,23.5L0,0z" fill="#ffffff"/><path d="M0,23.5L96,23.5" stroke="#454545" fill="none" stroke-linejoin="round"/><text class="st3"><tspan textLength="75" y="15.783" x="8" style="white-space:pre">一个 ctx 超时</tspan></text></g><g transform="matrix(1,0,0,1,236.13,878.5)" ed:parentid="101" ed:width="113.6666666666667" ed:height="42.33333333333333" id="202"><path d="M4,0L109.7,0C112.4,0,113.7,1.3,113.7,4L113.7,38.3C113.7,41,112.4,42.3,109.7,42.3L4,42.3C1.3,42.3,0,41,0,38.3L0,4C0,1.3,1.3,0,4,0z" stroke-width="2" fill="#ffffff" stroke="#454545" stroke-linejoin="round"/><text class="st2"><tspan textLength="76" y="26.967" x="18" style="white-space:pre">时序分析</tspan></text></g></svg>